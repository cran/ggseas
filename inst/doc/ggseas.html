<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Peter Ellis" />

<meta name="date" content="2018-06-12" />

<title>ggseas - seasonal decomposition on the fly</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">ggseas - seasonal decomposition on the fly</h1>
<h4 class="author"><em>Peter Ellis</em></h4>
<h4 class="date"><em>2018-06-12</em></h4>



<div id="seasonal-decomposition-on-the-fly" class="section level2">
<h2>Seasonal decomposition on the fly</h2>
<p>The <code>ggseas</code> R package aims to help exploratory analysis of time series by making it easy to do seasonal adjustment and decomposition on the fly in the <code>ggplot2</code> universe. It provides two main sets of functionality:</p>
<ul>
<li>a collection of <code>ggplot2</code> <code>stats</code> oriented to time-series, allowing indexing, rolling averages and seasonal decomposition to be added as straight-forward statistical transforms with familiar <code>geoms</code> like <code>geom_line</code> and <code>geom_point</code>.</li>
<li>the <code>ggsdc()</code> function which provides decomposition similar to that from <code>decompose</code>, <code>stl</code> or the X13-SEATS-ARIMA world via the <code>seasonal</code> package, except in <code>ggplot2</code> terms so you can use familiar themes, titles, control your <code>geoms</code> and <code>scales</code>, etc. - and have multiple time series decomposed on a single graphic.</li>
</ul>
</div>
<div id="using-stats-for-simple-time-series-graphic-composition" class="section level2">
<h2>Using stats for simple time series graphic composition</h2>
<p><code>ggseas</code> provides five <code>stats</code> that have <code>geom_line</code> as their default geom and will easily integrate into a time series exploration:</p>
<ul>
<li><code>stat_index</code></li>
<li><code>stat_decomp</code></li>
<li><code>stat_rollapplyr</code></li>
<li><code>stat_stl</code></li>
<li><code>stat_seas</code></li>
</ul>
<p>Like everything in the <code>ggplot2</code> universe, these need your data to be in a <code>data.frame</code> (or its modern cousin the <code>tibble</code>). Much time series analysis in R uses <code>ts</code> and <code>mts</code> objects rather than <code>data.frames</code> so a first step to use <code>ggplot2</code> for time series is to convert your data into a <code>data.frame</code>. The very simple <code>tsdf</code> function is provided to make this easier (there must be someone who’s done this earlier and better than me, if so let me know). It extracts the information on time from a <code>ts</code> or <code>mts</code> object and makes it a column, with time series data columns to the right of it:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggseas)
ap_df &lt;-<span class="st"> </span><span class="kw">tsdf</span>(AirPassengers)
<span class="kw">head</span>(ap_df)</code></pre></div>
<pre><code>         x   y
1 1949.000 112
2 1949.083 118
3 1949.167 132
4 1949.250 129
5 1949.333 121
6 1949.417 135</code></pre>
<p>This means we can draw our time series in the usual <code>ggplot2</code> way:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(ap_df, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span><span class="st"> </span>
<span class="st">   </span><span class="kw">geom_line</span>(<span class="dt">colour =</span> <span class="st">&quot;grey75&quot;</span>) </code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div id="convert-your-data-to-an-index-with-stat_index" class="section level3">
<h3>Convert your data to an index with <code>stat_index()</code></h3>
<p>One thing we often want to do with time series data is turn it into an index with some arbitrarily chosen point as a reference, often set to equal 100. The <code>stat_index()</code> <code>stat</code> does this for you. In the case below, the average value of the first 10 points of the data is chosen as the reference to equal the default of 100.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(ap_df, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span><span class="st"> </span>
<span class="st">   </span><span class="kw">stat_index</span>(<span class="dt">index.ref =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>You can control all that. For example, you might want the 120th point of the data to be equal to 1000</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(ap_df, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span><span class="st"> </span>
<span class="st">   </span><span class="kw">stat_index</span>(<span class="dt">index.ref =</span> <span class="dv">120</span>, <span class="dt">index.basis =</span> <span class="dv">1000</span>)</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Indexing also turns up later as an option in most of the other functions in <code>ggseas</code>.</p>
</div>
<div id="make-rolling-averages-easily-with-stat_rollapplyr" class="section level3">
<h3>Make rolling averages easily with <code>stat_rollapplyr()</code></h3>
<p><code>stat_rollapplyr()</code> makes it easy to add a rolling function to your data, defaulting to the mean:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(ap_df, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span><span class="st"> </span>
<span class="st">   </span><span class="kw">geom_line</span>(<span class="dt">colour =</span> <span class="st">&quot;grey75&quot;</span>) <span class="op">+</span>
<span class="st">   </span><span class="kw">stat_rollapplyr</span>(<span class="dt">width =</span> <span class="dv">12</span>, <span class="dt">align =</span> <span class="st">&quot;center&quot;</span>) <span class="op">+</span>
<span class="st">   </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Number of US Air Passengers</span><span class="ch">\n</span><span class="st">(rolling average and original)&quot;</span>)</code></pre></div>
<pre><code>Warning: Removed 11 rows containing missing values (geom_path).</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>It’s not very likely you’ll want anything but a line for a graphic like this, but in case you do, you can over-write the default geom. And of course all the usual <code>ggplot2</code> polishing facilities are available:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(ap_df, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span><span class="st"> </span>
<span class="st">   </span><span class="kw">geom_line</span>(<span class="dt">colour =</span> <span class="st">&quot;grey75&quot;</span>) <span class="op">+</span>
<span class="st">   </span><span class="kw">stat_rollapplyr</span>(<span class="dt">width =</span> <span class="dv">12</span>, <span class="dt">align =</span> <span class="st">&quot;center&quot;</span>, <span class="dt">geom =</span> <span class="st">&quot;point&quot;</span>, 
                   <span class="dt">size =</span> <span class="fl">0.5</span>, <span class="dt">colour =</span> <span class="st">&quot;steelblue&quot;</span>) <span class="op">+</span>
<span class="st">   </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Number of US Air Passengers</span><span class="ch">\n</span><span class="st">(rolling average and original)&quot;</span>)</code></pre></div>
<pre><code>Warning: Removed 11 rows containing missing values (geom_point).</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="seasonal-adjustment" class="section level3">
<h3>Seasonal adjustment</h3>
<p>Three stats will do seasonal adjustment for you, but I recommend only two of them: <code>stat_stl()</code> and <code>stat_seas()</code>. In fact, if <code>stat_seas works</code> it will generally be better. Amongst other things it does automatic detection of outliers and level shifts, best transformation to make, and adjustments for Easter and number of trading days. It’s driven by Christopher Sax’s <a href="https://CRAN.R-project.org/package=seasonal"><code>seasonal</code> R package</a>, which is the best interface on the planet to the <a href="https://www.census.gov/srd/www/x13as/"><code>X13-SEATS-ARIMA</code> time series analysis application from the US Census Department</a>, which is the industry standard particularly for official statistics agencies doing seasonal adjustment.</p>
<p>X13 (via <code>stat_seas</code>) has limitations, such as a maximum number of observations, and only working with socio-economic style data (eg things measured in months, quarters and year rather than in milliseconds or eons). For these cases, <code>stat_stl()</code> provides a robust workhorse, a wrapper around <code>stl()</code> that ships with R in the <code>stats</code> package and implements the Clevelands’ seasonal-trend decomposition procedure based on a loess scatterplot smoother.</p>
<p>Here they both are in action:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(ap_df, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span>
<span class="st">   </span><span class="kw">geom_line</span>(<span class="dt">colour =</span> <span class="st">&quot;grey50&quot;</span>) <span class="op">+</span>
<span class="st">   </span><span class="kw">stat_seas</span>(<span class="dt">colour =</span> <span class="st">&quot;blue&quot;</span>) <span class="op">+</span>
<span class="st">   </span><span class="kw">stat_stl</span>(<span class="dt">s.window =</span> <span class="dv">7</span>, <span class="dt">colour =</span> <span class="st">&quot;red&quot;</span>)</code></pre></div>
<pre><code>Calculating starting date of 1949 from the data.</code></pre>
<pre><code>Calculating frequency of 12 from the data.
Calculating frequency of 12 from the data.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Check out the helpfiles for more options. For example, you can convert the data to an index first, or pass more advanced arguments to the underlying time series programs.</p>
</div>
<div id="leverage-ggplot2-and-seasonal-adjustment" class="section level3">
<h3>Leverage <code>ggplot2</code> and seasonal adjustment</h3>
<p>One of the more interesting implications of bringing seasonal adjustment into the <code>ggplot2</code> universe is the ability to slice and dice the data by aesthetic mappings (usually to colour) by faceting. This all works seamlessly in a way that will be familiar to <code>ggplot2</code> users eg</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(ldeaths_df, <span class="kw">aes</span>(<span class="dt">x =</span> YearMon, <span class="dt">y =</span> deaths, <span class="dt">colour =</span> sex)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>sex) <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_seas</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Seasonally adjusted lung deaths in the UK&quot;</span>)</code></pre></div>
<pre><code>Calculating starting date of 1974 from the data.</code></pre>
<pre><code>Calculating frequency of 12 from the data.</code></pre>
<pre><code>Calculating starting date of 1974 from the data.</code></pre>
<pre><code>Calculating frequency of 12 from the data.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
</div>
<div id="ggsdc-for-quick-decomposition-into-trend-seasonal-and-random-components" class="section level2">
<h2><code>ggsdc</code> for quick decomposition into trend, seasonal and random components</h2>
<p>The final key functionality from the <code>ggseas</code> package is the ability to do decomposition into trend, seasonal and random components, within the <code>ggplot</code> paradigm for polishing, aesthetic mappings, etc. Unlike the <code>stat_seas()</code> and its cousins which are stats that fit into the usual <code>ggplot() + ... +...</code> pipeline, <code>ggsdc()</code> is a replacement for the <code>ggplot()</code> function that normally starts that pipeline. <code>ggsdc()</code> has to seize control of the faceting operations in the pipeline and a few other things so it can’t be added just as a geom (at least not to this author’s understanding).</p>
<p><code>ggsdc()</code> provides access to classic decomposition (additive or multiplicative) from <code>decompose()</code>, loess-based via <code>stl()</code>, or X13-SEATS-ARIMA via <code>seasonal()</code>. Again, I recommend one of the latter two as the more powerful and flexible approaches to seasonality, much better at handling slowly changing seasonality over time.</p>
<p>Here’s how it works at its simplest:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggsdc</span>(ap_df, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y), <span class="dt">method =</span> <span class="st">&quot;seas&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>()</code></pre></div>
<pre><code>Calculating starting date of 1949 from the data.</code></pre>
<pre><code>Calculating frequency of 12 from the data.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Note that you still need to add a geom (usually <code>geom_line()</code>) to tell ggplot2 how to render the chart</p>
<p>Here’s a slightly more complex version with a multivariate series:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">serv &lt;-<span class="st"> </span><span class="kw">subset</span>(nzbop, Account <span class="op">==</span><span class="st"> &quot;Current account&quot;</span> <span class="op">&amp;</span><span class="st"> </span>
<span class="st">                  </span>Category <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Services; Exports total&quot;</span>, <span class="st">&quot;Services; Imports total&quot;</span>))
<span class="kw">ggsdc</span>(serv, <span class="kw">aes</span>(<span class="dt">x =</span> TimePeriod, <span class="dt">y =</span> Value, <span class="dt">colour =</span> Category),
         <span class="dt">method =</span> <span class="st">&quot;stl&quot;</span>, <span class="dt">s.window =</span> <span class="dv">7</span>, <span class="dt">frequency =</span> <span class="dv">4</span>,
         <span class="dt">facet.titles =</span> <span class="kw">c</span>(<span class="st">&quot;The original series&quot;</span>, <span class="st">&quot;The underlying trend&quot;</span>, 
                          <span class="st">&quot;Regular seasonal patterns&quot;</span>, <span class="st">&quot;All the randomness left&quot;</span>)) <span class="op">+</span>
<span class="st">      </span><span class="kw">geom_line</span>()</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
